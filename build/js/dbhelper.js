function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),altRestaurantTexts=["","Restaurant mission chinese food inside view","Restaurant emily dish sample","Restaurant KANG HO DONG BAEKJEONG inside view","Restaurant KATZ'S DELICATESSEN outside view","Restaurant ROBERTA'S PIZZA inside view","Restaurant HOMETOWN BBQ inside view","Restaurant SUPERIORITY BURGER entrance","Restaurant THE DUTCH outside","Restaurant MU RAMEN inside","Restaurant CASA ENRIQUE inside"],suffixedImagePath=function(e,n){return"/images/"+e.id+n+".jpg"},DBHelper=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"reviewsByRestaurantIdUrl",value:function(n){return"http://localhost:"+e.PORT+"/reviews?restaurant_id="+n}},{key:"fetchReviewsByRestaurantId",value:function(n,t){Common.handleApiRequest(e.reviewsByRestaurantIdUrl(n)).then(function(e){return e.json()}).then(function(e){t(null,e)}).catch(function(e){t(e,null)})}},{key:"fetchRestaurants",value:function(n){Common.handleApiRequest(new URL(e.ALL_RESTAURANTS_URL)).then(function(e){return e.json()}).then(function(e){n(null,e)}).catch(function(e){n(e,null)})}},{key:"fetchRestaurantById",value:function(n,t){e.fetchRestaurants(function(e,a){if(e)t(e,null);else{var u=a.find(function(e){return e.id==n});u?t(null,u):t("Restaurant does not exist",null)}})}},{key:"fetchRestaurantByCuisine",value:function(n,t){e.fetchRestaurants(function(e,a){if(e)t(e,null);else{var u=a.filter(function(e){return e.cuisine_type==n});t(null,u)}})}},{key:"fetchRestaurantByNeighborhood",value:function(n,t){e.fetchRestaurants(function(e,a){if(e)t(e,null);else{var u=a.filter(function(e){return e.neighborhood==n});t(null,u)}})}},{key:"fetchRestaurantByCuisineAndNeighborhood",value:function(n,t,a){e.fetchRestaurants(function(e,u){if(e)a(e,null);else{var r=u;"all"!=n&&(r=r.filter(function(e){return e.cuisine_type==n})),"all"!=t&&(r=r.filter(function(e){return e.neighborhood==t})),a(null,r)}})}},{key:"fetchNeighborhoods",value:function(n){e.fetchRestaurants(function(e,t){if(e)n(e,null);else{var a=t.map(function(e,n){return t[n].neighborhood}),u=a.filter(function(e,n){return a.indexOf(e)==n});n(null,u)}})}},{key:"fetchCuisines",value:function(n){e.fetchRestaurants(function(e,t){if(e)n(e,null);else{var a=t.map(function(e,n){return t[n].cuisine_type}),u=a.filter(function(e,n){return a.indexOf(e)==n});n(null,u)}})}},{key:"urlForRestaurant",value:function(e){return"./restaurant.html?id="+e.id}},{key:"imageUrlForRestaurant",value:function(e){return suffixedImagePath(e,"-small")}},{key:"imageAltForRestaurant",value:function(e){return altRestaurantTexts[e.id]}},{key:"imageSrcsetForRestaurant",value:function(e){return suffixedImagePath(e,"-large-2x")+" 1600w,\n      "+suffixedImagePath(e,"-large-1x")+" 800w,\n      "+suffixedImagePath(e,"-medium")+" 700w,\n      "+suffixedImagePath(e,"-small")+" 500w"}},{key:"imageSizesForRestaurantHome",value:function(e){return"(min-width: 880px) 34vw, (min-width: 550px) 50vw, 90vw"}},{key:"imageSizesForRestaurantDetails",value:function(e){return"(min-width: 550px) 50vw, 90vw"}},{key:"mapMarkerForRestaurant",value:function(n,t){var a=new L.marker([n.latlng.lat,n.latlng.lng],{title:n.name,alt:n.name,url:e.urlForRestaurant(n)});return a.addTo(newMap),a}},{key:"PORT",get:function(){return 1337}},{key:"ALL_RESTAURANTS_URL",get:function(){return"http://localhost:"+e.PORT+"/restaurants"}}]),e}();